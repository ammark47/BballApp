// Generated by CoffeeScript 1.9.2
(function() {
  var csonParser, fs, readFile, readFileSync;

  csonParser = require('cson-parser');

  fs = require('fs');

  readFile = function(filePath, done) {
    return fs.readFile(filePath, 'utf8', function(err, data) {
      var field, i, len, parseErr, ref, result;
      if (err) {
        return done(err);
      }
      try {
        result = csonParser.parse(data);
      } catch (_error) {
        parseErr = _error;
        ref = ['message', 'stack'];
        for (i = 0, len = ref.length; i < len; i++) {
          field = ref[i];
          parseErr[field] = parseErr[field].replace('stdin', filePath);
        }
        return done(parseErr);
      }
      return done(null, result);
    });
  };

  readFileSync = function(filePath) {
    var data;
    data = fs.readFileSync(filePath, 'utf8');
    return csonParser.parse(data);
  };

  module.exports = {
    readFile: readFile,
    readFileSync: readFileSync
  };

}).call(this);
